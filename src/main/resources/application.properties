spring.datasource.url=jdbc:mysql://localhost:3306/solar_accounting_db
spring.datasource.username=admin
spring.datasource.password=admin123
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

spring.thymeleaf.cache=false
spring.thymeleaf.extras.java8time.enabled=true

server.port=8080
# Use Railway-provided PORT or fallback to 8080
server.port=${PORT:8080}
# Bind to all interfaces to accept external requests
server.address=0.0.0.0

# Example for feature flag
partner.feature.enabled=${PARTNER_FEATURE_ENABLED:true}

# Uploads
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB
jmr.pdf.upload-dir=uploads/approved_jmr_pdfs
library.upload-dir=uploads/library

# Logging
logging.level.root=DEBUG
logging.level.org.springframework=DEBUG
logging.level.com.legakrishi=DEBUG
logging.level.org.hibernate=DEBUG
# Suppress noisy Tomcat EOF logs
logging.level.org.apache.coyote.http11.Http11Processor=ERROR
logging.level.org.apache.tomcat.util.net.NioEndpoint=ERROR
logging.level.org.apache.coyote.AbstractProtocol=ERROR
logging.level.org.apache.catalina.connector.CoyoteAdapter=ERROR
spring.jpa.properties.hibernate.query.fail_on_duplicate_fetch=false

# ---------- Monitoring (LKF) ----------
lkf.monitoring.site-id=1
lkf.monitoring.device-id=1
lkf.monitoring.offline-threshold-minutes=1

# Zero-power rule
lkf.monitoring.zero.window-minutes=2
lkf.monitoring.zero.min-readings=2
lkf.monitoring.zero.threshold-kw=0.1

# Default daylight (site-level can override in Admin -> Sites)
lkf.monitoring.daylight.start=09:00
lkf.monitoring.daylight.end=17:00

# ---------- Email (SMTP) ----------
# NOTE: these dummy creds won't send mail from Gmail. Use a real SMTP or an app password.
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=admin
spring.mail.password=admin123
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.ssl.enable=false
spring.mail.properties.mail.debug=true
app.alerts.mail.from=admin@solar.com

spring.mail.properties.mail.smtp.connectiontimeout=10000
spring.mail.properties.mail.smtp.timeout=10000
spring.mail.properties.mail.smtp.writetimeout=10000

logging.level.org.springframework.mail=DEBUG
logging.level.org.springframework.mail.javamail=DEBUG

# ---------- WhatsApp Cloud API ----------
whatsapp.enabled=true
whatsapp.phone-number-id=716998318166638
whatsapp.token=EAAlC2EoGTikBPEzUyyYiG5EhEKZCOXfbiuzZA32ZABjV7yd9ZA7obJtgV9cdhrkSqtuneIxcQZCfawmtNAmfb8sROiymab8V7S4L2yZAsSdOaZBYfkHlmzj7pkJiH4ZBqhwWtdDZCk9orl1c8ydLrmOUZCXW7sjpzZACufqhsZB5NAqPYgnHOWKCQIAHkCR2JD8RbLsWT8YDC9jnudE5MHvydPcJyR3lszlFeq25ZAH30bZC0Sc3KfNLSZAOqB17AtN8wAZD
whatsapp.to=918949712948
whatsapp.language=en_US
whatsapp.template.offline=solar_offline
whatsapp.lang=en_US

Dspring.profiles.active=prod

# Template name is chosen per-site in Admin ? Sites (notifyWhatsappTemplate). Default fallback is 'hello_world'.

logging.level.com.legakrishi.solar.service.WhatsAppService=DEBUG

some.property=ture
partner.access.enabled=true
